<div class="row" ng-controller="ReportController as vm">
    <header
        class="col-md-12 d-flex justify-content-between align-items-center py-3 bg-light shadow-sm rounded-top fixed-top">
        <!-- header左侧：网站 logo 和导航 -->
        <div class="d-flex align-items-center">
            <img src="../icons/nine_logo.png" alt="Logo" class="me-3" style="height: 40px;">
        </div>
        <!--header右侧：用户信息和登出按钮 -->
        <div class="d-flex align-items-center">
            <span class="me-3 text-dark fw-bold">{{ vm.user.username }}</span>
            <span class="badge bg-info me-3">{{ vm.user.rolesText }}</span>
            <button class="btn btn-outline-danger btn-sm p-1 d-flex align-items-center" ng-click="vm.logout()"
                id="logoutBtn">
                <i class="fas fa-sign-out-alt me-1"></i><span id="logoutText">退出登录</span>
            </button>
        </div>
    </header>
    <!-- 主模块入口-->
    <div class="container-fluid" style="margin-top: 100px;">
        <div class="row justify-content-center">
            <!-- CRM管理 -->
            <div class="col-md-4 col-lg-3 mb-4" ng-if="vm.user.type === 'admin' || vm.user.type === 'staff'">
                <!--预留所有人可见-->
                <div class="card shadow-sm h-100">
                    <div class="card-body text-center">
                        <i class="fas fa-users-cog fa-2x text-primary mb-3"></i>
                        <h5 class="card-title">客户档案与工作报告</h5>
                        <p class="text-muted small">客户档案、日报、社媒等模块</p>
                        <a ui-sref="crm_management" class="btn btn-sm btn-primary">进入</a>
                    </div>
                </div>
            </div>

            <!-- 房源管理 -->
            <div class="col-md-4 col-lg-3 mb-4" ng-if="vm.hasPermission('units:read_units_list')">
                <div class="card shadow-sm h-100">
                    <div class="card-body text-center">
                        <i class="fas fa-building fa-2x text-success mb-3"></i>
                        <h5 class="card-title">房源管理</h5>
                        <p class="text-muted small">楼栋、楼层、单元统一配置</p>
                        <a ui-sref="unit_source" class="btn btn-sm btn-success">进入</a>
                    </div>
                </div>
            </div>

            <!-- 合同管理 -->
            <div class="col-md-4 col-lg-3 mb-4" ng-if="vm.hasPermission('contracts:contracts_list')">
                <div class="card shadow-sm h-100">
                    <div class="card-body text-center">
                        <i class="fas fa-file-signature fa-2x text-warning mb-3"></i>
                        <h5 class="card-title">合同管理</h5>
                        <p class="text-muted small">合同周期、租金条款管理</p>
                        <a ui-sref="contract_source" class="btn btn-sm btn-warning">进入</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>